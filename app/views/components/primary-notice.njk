{% from './file-download.njk' import fileDownload %}

{% macro primaryNotice(options) %}
  {% set data = options.data %}
  {% if data | shouldDisplayPrimaryLeaveAndPayForm %}
    {{ fileDownload({
      name: (data | primaryName | capitalize) + "â€™s shared parental leave and pay notice form",
      href: "/forms/" + ("SPL_Mother_Birth.pdf" if data | primaryLeaveType == "maternity" else "SPL_Primary_Adopter.pdf"),
      description: {
        html: noticeDescription
      },
      details: {
        html: noticeDetails
      },
      attributes: {
        ga_fileDownloaded: {
            "data-ga-hit-type": "primary_notice_clicked",
            "data-ga-field-event_category": "summary",
            "data-ga-field-event_action": "primary_notice_clicked"
        }
      }
    }) }}
  {% elif data | shouldDisplayPrimaryCurtailmentForm %}
    {{ fileDownload({
      name: data | primaryLeaveType | capitalise + " curtailment and SPL consent form",
      href:"/forms/" + ("Maternity_Leave_Curtailment_SPL_Consent.pdf" if data | primaryLeaveType == "maternity" else "Adoption_Leave_Curtailment_SPL_Consent.pdf"),
      attributes: {
        ga_fileDownloaded: {
          "data-ga-hit-type": "primary_notice_clicked",
          "data-ga-field-event_category": "summary",
          "data-ga-field-event_action": "primary_notice_clicked"
        }
      }
    }) }}
  {% endif %}
{% endmacro %}