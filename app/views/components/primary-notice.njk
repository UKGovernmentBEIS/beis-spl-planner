{% from './file-download.njk' import fileDownload %}

{% macro primaryNotice(options) %}
  {% set data = options.data %}
  {% if data | shouldDisplayPrimaryLeaveAndPayForm %}
    {% set formUrl %}
      {% if data | isBirth -%}
        SPL_Mother_Birth.docx
        {% set formName %}
          Mother Shared Parental Leave Forms (after Maternity Leave)
        {% endset %}
      {%- elif data | isAdoption -%}
        SPL_Primary_Adopter.docx
        {% set formName %}
          Primary adopter (parent eligible for adoption leave) Shared Parental Leave Forms
        {% endset %}
      {%- else -%}
        SPL_Parental_Order_Parent.docx
        {% set formName %}
          Parental Order Parent (parent eligible for adoption leave) Shared Parental Leave Forms (a child through surrogacy)
        {% endset %}
      {%- endif %}
    {% endset %}
    {{ fileDownload({
      name: formName,
      href: "/forms/" + formUrl,
      attributes: {
        ga_fileDownloaded: {
            "data-ga-hit-type": "primary_notice_clicked",
            "data-ga-field-event_category": "summary",
            "data-ga-field-event_action": "primary_notice_clicked"
        }
      }
    }) }}
  {% elif data | shouldDisplayPrimaryCurtailmentForm %}
    {% set formUrl %}
      {% if data | isBirth -%}
        Maternity_Entitlement_Curtailment.docx
        {% set formName %}
          Curtailment of Maternity Entitlement Form
        {% endset %}
      {%- elif data | isAdoption -%}
        Adoption_Entitlement_Curtailment.docx
        {% set formName %}
          Curtailment of Adoption Entitlement Form
        {% endset %}
      {%- else -%}
        Parental_Order_Parent_Entitlement_Curtailment.docx
        {% set formName %}
          Curtailment of Adoption Entitlement Form (a child through surrogacy)
        {% endset %}
      {%- endif %}
    {% endset %}
    {{ fileDownload({
      name: formName,
      href:"/forms/" + formUrl,
      attributes: {
        ga_fileDownloaded: {
          "data-ga-hit-type": "primary_notice_clicked",
          "data-ga-field-event_category": "summary",
          "data-ga-field-event_action": "primary_notice_clicked"
        }
      }
    }) }}
  {% endif %}
{% endmacro %}
