{% from './file-download.njk' import fileDownload %}

{% macro primaryNotice(options) %}
  {% set data = options.data %}
  {% if data | shouldDisplayPrimaryLeaveAndPayForm %}
    {% set formUrl %}
      {% if data | isBirth -%}
        SPL_Mother_Birth.docx
      {%- elif data | isAdoption -%}
        SPL_Primary_Adopter.docx
      {%- else -%}
        SPL_Parental_Order_Parent.docx
      {%- endif %}
    {% endset %}
    {{ fileDownload({
      name: (data | primaryName | capitalize) + "â€™s Shared Parental Leave and Pay notice form",
      href: "/forms/" + formUrl,
      attributes: {
        ga_fileDownloaded: {
            "data-ga-hit-type": "primary_notice_clicked",
            "data-ga-field-event_category": "summary",
            "data-ga-field-event_action": "primary_notice_clicked"
        }
      }
    }) }}
  {% elif data | shouldDisplayPrimaryCurtailmentForm %}
    {% set formUrl %}
      {% if data | isBirth -%}
        Maternity_Entitlement_Curtailment.docx
      {%- elif data | isAdoption -%}
        Adoption_Entitlement_Curtailment.docx
      {%- else -%}
        Parental_Order_Parent_Entitlement_Curtailment.docx
      {%- endif %}
    {% endset %}
    {{ fileDownload({
      name: data | primaryLeaveType | capitalize + " curtailment and SPL consent form",
      href:"/forms/" + formUrl,
      attributes: {
        ga_fileDownloaded: {
          "data-ga-hit-type": "primary_notice_clicked",
          "data-ga-field-event_category": "summary",
          "data-ga-field-event_action": "primary_notice_clicked"
        }
      }
    }) }}
  {% endif %}
{% endmacro %}