{% from "footer/macro.njk" import govukFooter %}
{% from "header/macro.njk" import govukHeader %}
{% from "phase-banner/macro.njk" import govukPhaseBanner %}
{% from "cookie-banner/macro.njk" import govukCookieBanner %}

{% extends "template.njk" %}

{% block head %}
  {% include "./includes/head.njk" %}
{% endblock %}

{% block header %}
  <header id="cookie_banner" class="cookie-banner">
      {% set html %}
        <h1 class="govuk-heading-m">Cookies on {{ service_name }}</h1>
        <p>We use some essential cookies to make this service work.</p>
        <p>We’d like to set additional cookies so we can remember your settings, understand how people use the service and make improvements.</p>
      {% endset %}
      {% set acceptHtml %}
        <p class="govuk-body">You’ve accepted analytics cookies. You can <a class="govuk-link" href="/cookies">change your cookie settings</a> at any time.</p>
      {% endset %}
      {% set rejectHtml %}
        <p class="govuk-body">You’ve rejected analytics cookies. You can <a class="govuk-link" href="/cookies">change your cookie settings</a> at any time.</p>
      {% endset %}
      {{
        govukCookieBanner({
          classes: 'cookie-banner',
          ariaLabel: "Cookies on "+ service_name,
          hidden: true,
          messages: [
            {
              classes: 'cookie-banner-message',
              html: html,
              actions: [
                {
                  text: "Accept additional cookies",
                  type: "button",
                  classes: 'cookie-banner-accept-button'
                },
                {
                  text: "Reject additional cookies",
                  type: "button",
                  classes: 'cookie-banner-reject-button'
                },
                {
                  text: "View cookies",
                  href: "/cookies"
                }
              ]
            },
            {
              classes: 'cookie-banner-accept-message',
              html: acceptHtml,
              role: "alert",
              hidden: true,
              actions: [
                {
                  type: "button",
                  classes: 'cookie-banner-hide-button',
                  text: "Hide this message"
                }
              ]
            },
            {
              classes: 'cookie-banner-reject-message',
              html: rejectHtml,
              role: "alert",
              hidden: true,
              actions: [
                {
                  type: "button",
                  classes: 'cookie-banner-hide-button',
                  text: "Hide this message"
                }
              ]
            }
          ]
        })
      }}
    </header>
  {{ govukHeader({
    serviceName: service_name,
    serviceUrl: "https://www.gov.uk/plan-shared-parental-leave-pay"
  }) }}
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "Beta"
    },
    classes: "print-hide",
    html: "This is a new service – your <a class=\"govuk-link\" href=\"/feedback\">feedback</a> will help us to improve it."
  }) }}
{% endblock %}

{% block body %}
  {% include "./includes/ga.njk" %}
  {{ block('content') }}
{% endblock %}

{% block contactUs %}

{% endblock %}

{% block footer %}
  {{
    govukFooter({
      meta: {
        items: [
          {
            href: "/cookies",
            text: 'Cookies'
          },
          {
            href: "/feedback",
            text: 'Feedback'
          },
          {
            href: "/accessibility-statement",
            text: 'Accessibility statement'
          },
          {
            href: "/privacy-notice",
            text: 'Privacy notice'
          }
        ]
      }
    })
  }}
{% endblock %}

{% block bodyEnd %}
  {% include "./includes/scripts.njk" %}
  <script type="module" src="common/browsered/index.mjs"></script>
{% endblock %}
